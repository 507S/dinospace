{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\dinospace\\\\dinospace\\\\client\\\\src\\\\auth\\\\restaurantLogin.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport axios from 'axios';\nimport { useEffect, useState } from 'react'; // import dinoLogo from './images/dinoLogo.png';\n// import bg from './images/user.jpg';\n\nimport { Table } from \"react-bootstrap\";\nimport { Button } from \"react-bootstrap\";\nimport \"../css/table.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RestaurantLogIn = () => {\n  _s();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setpass] = useState(\"\");\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const user = {\n      email,\n      password\n    };\n\n    try {\n      //CREATE BACKEND\n      const response = await axios.post('/post/login', user);\n      console.log(response);\n\n      if (response.data.status == \"ok\" && response.data.role == \"restaurant\") {\n        alert(\"login successful\");\n        localStorage.setItem('token', response.data.user);\n        window.location.href = \"/dash\";\n      } else if (response.data.status == \"ok\" && response.data.role != \"restaurant\") {\n        alert(\"wrong password\");\n      } else {\n        alert(\"user does not exist\");\n      } // const response= fetch('/post/',{\n      //     method:'POST',\n      //     mode:'no-cors',\n      //     headers:{\n      //         'Content-Type':'application/json',\n      //         'Accept':'application/json'\n      //     },\n      //     body:JSON.stringify(newRestaurent)\n      //   })\n      //   .then(response => response.json())\n      //     .then(data => console.log(data));\n\n    } catch (error) {\n      console.log(error);\n    } //console.log(newRestaurent);\n\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Email: \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Pass: \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          onChange: e => setpass(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Submit\",\n        onClick: handleSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n\n_s(RestaurantLogIn, \"6rWVa3E09EnilTLno8HsZzJCIUo=\");\n\n_c = RestaurantLogIn;\nexport default RestaurantLogIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"RestaurantLogIn\");","map":{"version":3,"sources":["D:/Projects/dinospace/dinospace/client/src/auth/restaurantLogin.js"],"names":["React","axios","useEffect","useState","Table","Button","RestaurantLogIn","email","setEmail","password","setpass","handleSubmit","event","preventDefault","user","response","post","console","log","data","status","role","alert","localStorage","setItem","window","location","href","error","e","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC,C,CACA;AACA;;AACA,SAASC,KAAT,QAAsB,iBAAtB;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,OAAO,kBAAP;;;AAEA,MAAMC,eAAe,GAAG,MAAM;AAAA;;AAC1B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACM,QAAD,EAAWC,OAAX,IAAsBP,QAAQ,CAAC,EAAD,CAApC;;AACA,QAAMQ,YAAY,GAAE,MAAOC,KAAP,IAAe;AAE/BA,IAAAA,KAAK,CAACC,cAAN;AACA,UAAMC,IAAI,GAAE;AACRP,MAAAA,KADQ;AAERE,MAAAA;AAFQ,KAAZ;;AAKA,QAAI;AACA;AACF,YAAMM,QAAQ,GAAG,MAAMd,KAAK,CAACe,IAAN,CAAW,aAAX,EAA0BF,IAA1B,CAAvB;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;;AACA,UAAGA,QAAQ,CAACI,IAAT,CAAcC,MAAd,IAAsB,IAAtB,IAA8BL,QAAQ,CAACI,IAAT,CAAcE,IAAd,IAAoB,YAArD,EAAkE;AAChEC,QAAAA,KAAK,CAAC,kBAAD,CAAL;AACAC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BT,QAAQ,CAACI,IAAT,CAAcL,IAA5C;AACDW,QAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,OAAvB;AACA,OAJD,MAKK,IAAGZ,QAAQ,CAACI,IAAT,CAAcC,MAAd,IAAsB,IAAtB,IAA8BL,QAAQ,CAACI,IAAT,CAAcE,IAAd,IAAoB,YAArD,EAAkE;AACrEC,QAAAA,KAAK,CAAC,gBAAD,CAAL;AACD,OAFI,MAGD;AACFA,QAAAA,KAAK,CAAC,qBAAD,CAAL;AACD,OAdC,CAeJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACC,KA1BD,CA0BE,OAAOM,KAAP,EAAc;AACZX,MAAAA,OAAO,CAACC,GAAR,CAAYU,KAAZ;AACH,KApC8B,CAuC/B;;AACH,GAxCD;;AAyCA,sBACI;AAAA,2BACI;AAAA,8BACI;AAAA,2CAAc;AAAO,UAAA,IAAI,EAAC,OAAZ;AAAoB,UAAA,QAAQ,EAAEC,CAAC,IAAErB,QAAQ,CAACqB,CAAC,CAACC,MAAF,CAASC,KAAV;AAAzC;AAAA;AAAA;AAAA;AAAA,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAGI;AAAA,0CAAa;AAAO,UAAA,IAAI,EAAC,UAAZ;AAAuB,UAAA,QAAQ,EAAEF,CAAC,IAAEnB,OAAO,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV;AAA3C;AAAA;AAAA;AAAA;AAAA,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,KAAK,EAAC,QAA3B;AAAoC,QAAA,OAAO,EAAEpB;AAA7C;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAWH,CAvDD;;GAAML,e;;KAAAA,e;AAyDN,eAAeA,eAAf","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\n// import dinoLogo from './images/dinoLogo.png';\r\n// import bg from './images/user.jpg';\r\nimport { Table } from \"react-bootstrap\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport \"../css/table.css\";\r\n\r\nconst RestaurantLogIn = () => {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setpass] = useState(\"\");\r\n    const handleSubmit= async (event)=>{\r\n       \r\n        event.preventDefault();\r\n        const user ={\r\n            email,\r\n            password\r\n        }\r\n        \r\n        try {\r\n            //CREATE BACKEND\r\n          const response = await axios.post('/post/login', user);\r\n          console.log(response);\r\n          if(response.data.status==\"ok\" && response.data.role==\"restaurant\"){\r\n            alert(\"login successful\");\r\n            localStorage.setItem('token', response.data.user);\r\n           window.location.href = \"/dash\";\r\n          }\r\n          else if(response.data.status==\"ok\" && response.data.role!=\"restaurant\"){\r\n            alert(\"wrong password\");\r\n          }\r\n          else{\r\n            alert(\"user does not exist\");\r\n          }\r\n        // const response= fetch('/post/',{\r\n        //     method:'POST',\r\n        //     mode:'no-cors',\r\n        //     headers:{\r\n        //         'Content-Type':'application/json',\r\n        //         'Accept':'application/json'\r\n        //     },\r\n        //     body:JSON.stringify(newRestaurent)\r\n        //   })\r\n        //   .then(response => response.json())\r\n        //     .then(data => console.log(data));\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n      \r\n      \r\n        //console.log(newRestaurent);\r\n    }\r\n    return ( \r\n        <div>\r\n            <form>\r\n                <label>Email: <input type=\"email\" onChange={e=>setEmail(e.target.value)}/></label>\r\n                \r\n                <label>Pass: <input type=\"password\" onChange={e=>setpass(e.target.value)}/></label>\r\n                <input type=\"submit\" value=\"Submit\" onClick={handleSubmit} />\r\n                \r\n            </form>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default RestaurantLogIn;"]},"metadata":{},"sourceType":"module"}